{% extends "../../includes/layouts/template-no-identity-bar.html" %}
{% block content %}
<script src="https://cdn.botframework.com/botframework-webchat/latest/webchat.js"></script>

<style>
  #webchat .webchat__bubble--from-user p {
    color: white !important;
  }

  /* GOV.UK styles for the chat container */
  .chat-container {
    border: 1px solid #b1b4b6;
    background-color: #ffffff;
    padding: 15px;
  }

  .webchat__send-box {
    height: auto;
    padding: 10px 0;
    background-color: #ffffff;
    border: none;
  }

  .webchat__send-box input {
    font-size: 1.25rem;
    font-family: "GDS Transport", Arial, sans-serif;
    width: 100%;
    padding: 10px;
    border: 1px solid #b1b4b6;
    border-radius: 0;
  }

  /* Optional: Adjust icon sizes if needed */
  .webchat__send-button svg,
  .webchat__attachment-icon__icon {
    width: 28px;
    height: 28px;
  }
</style>

<div class="moj-width-container govuk-!-margin-top-7">
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">

      <h1 class="govuk-heading-l">
        <span class="govuk-caption-l">Calculate release dates virtual assistant</span>
        Ask for help 
      </h1>

      <div class="chat-container">
        <div id="webchat" role="main" style="height: 500px;"></div>
      </div>

      <script>
        const styleSet = window.WebChat.createStyleSet({
          bubbleFromUserBackground: '#1d70b8',
          bubbleFromUserBorderColor: '#1d70b8',
          bubbleFromUserTextColor: '#ffffff',
          bubbleBorderRadius: 4,
          bubbleBackground: '#ffffff',
          bubbleTextColor: '#0b0c0c',
          backgroundColor: '#f3f2f1',
          primaryFont: "'GDS Transport', Arial, sans-serif",
          suggestedActionBackgroundColor: '#1d70b8',
          suggestedActionTextColor: '#ffffff',
          suggestedActionBorderColor: '#1d70b8',
          paddingRegular: 10,
          hideUploadButton: false // Keep upload visible again
        });

        const directLine = window.WebChat.createDirectLine({
          token: '' // Insert your Direct Line token
        });

        window.WebChat.renderWebChat({
          directLine,
          styleSet
        }, document.getElementById('webchat'));
 

      </script>

      <div class="govuk-!-margin-top-6">
        <h2 class="govuk-heading-m">Help improve this service</h2>
        <div class="govuk-body">
          <span>This is a new service. Your feedback will help make it better. To give feedback you can:</span>
          <ul class="govuk-list govuk-!-margin-top-2">
            <li><a href="">Complete a short survey</a></li>
          </ul>
        </div>
      </div>

    </div>
  </div>
</div>
{% endblock %}
